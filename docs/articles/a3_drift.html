<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dead and drifting • mort</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Dead and drifting">
<meta property="og:description" content="mort">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mort</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a1_data-prep.html">Formatting your data</a>
    </li>
    <li>
      <a href="../articles/a2_morts.html">Identifying potential mortalities</a>
    </li>
    <li>
      <a href="../articles/a3_drift.html">Dead and drifting</a>
    </li>
    <li>
      <a href="../articles/a4_season.html">Seasonality</a>
    </li>
    <li>
      <a href="../articles/a5_plots.html">Plotting your data</a>
    </li>
    <li>
      <a href="../articles/a6_digging.html">Digging into your data</a>
    </li>
    <li>
      <a href="../articles/a7_review.html">Review new data</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rosieluain/mort/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Dead and drifting</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rosieluain/mort/blob/HEAD/vignettes/a3_drift.Rmd" class="external-link"><code>vignettes/a3_drift.Rmd</code></a></small>
      <div class="hidden name"><code>a3_drift.Rmd</code></div>

    </div>

    
    
<p><strong>Note:</strong> vignettes are under development! We are
currently developing a sample dataset, so there are some obvious gaps
where there should be figures, tables, etc. These will be completed as
soon as the sample dataset is done. <br><br></p>
<p>There may be situations where a tag that was expelled or from a dead
animal may appear to move among stations or locations. This apparent
movement could be due to the tag drifting with currents or tides. If a
tag is located within range of two overlapping recievers, simultaneous
or near-simultaneous detections at the two receivers may be assigned to
different residence events. Left unaddressed, these residence events at
different stations would be considered by mort to be station
changes.</p>
<div class="section level2">
<h2 id="specifying-drift-stations">Specifying drift stations<a class="anchor" aria-label="anchor" href="#specifying-drift-stations"></a>
</h2>
<p>Drift stations must be specified by the user. These can be determined
by common sense (e.g., Station 5 is upstream of Station 4, so drift can
occur from Station 5 to Station 4). Potential drift stations can also be
determined by plotting and exploring residence events (see “Plotting”
vignette). A series of long residences at one station that are followed
by a series of long residences at another station may indicate drift
from unmapped currents in the study area. Brief residence events with
numerous station changes between two stations may indicate stations that
overlap under certain environmental conditions.</p>
<p>To apply drift, the user must specify the drift stations in a
dataframe. The dataframe must have two columns: the station where the
tag is drifting from, and the station where the tag is drifting to. The
station names must match those in the <code>station</code> argument in
all mort functions. Each row will specify one possible drift movement.
The movement is directional, so if two stations overlap, both directions
must be specified. The drift dataframe is later called with the argument
<code>ddd</code> - “ddd” for “dead drift direction”, as a reminder that
drift is applied directionally.</p>
<p>The table below shows an example drift dataframe. Note that drift
between Stations 2 and 3 can be bidirectional, so both drift from
Station 2 to Station 3 and drift from Station 3 to Station 2 are
included.</p>
<!-- Example drift table  -->
<p>When drift is applied within <code><a href="../reference/morts.html">morts()</a></code> or
<code><a href="../reference/infrequent.html">infrequent()</a></code>, residence events that could be due to drift
are combined to form drift residence events.</p>
<p>Residence events before applying drift:</p>
<p>Residence events, including drift residence events:
<!-- How does this plot? Which station is used for the colour  --></p>
</div>
<div class="section level2">
<h2 id="applying-drift">Applying drift<a class="anchor" aria-label="anchor" href="#applying-drift"></a>
</h2>
<p>Drift is applied in <code><a href="../reference/morts.html">morts()</a></code> and
<code><a href="../reference/infrequent.html">infrequent()</a></code> by including five arguments:</p>
<ol>
<li><p><code>ddd</code> - the drift dataframe (see above for preparing a
drift dataframe)</p></li>
<li><p><code>from.station</code> - a character string of the column name
in <code>ddd</code> with the station names where a tag could be drifting
from</p></li>
<li><p><code>to.station</code> - a character string of the column name
in <code>ddd</code> with the station names where a tag could be drifting
to</p></li>
<li><p><code>drift.cutoff</code> - the maximum allowable time difference
between detections to be considered a single residence event. This is
usually the same cutoff that was used to gernerate the residence events
from detection data.</p></li>
<li><p><code>drift.units</code> - the units of
<code>drift.cutoff</code></p></li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">drift_ex</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/infrequent.html">infrequent</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">data</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,</span>
<span>                     ddd<span class="op">=</span><span class="va">drift.dataframe</span>,</span>
<span>                     from.station<span class="op">=</span><span class="st">"From"</span>,to.station<span class="op">=</span><span class="st">"To"</span>,</span>
<span>                     drift.cutoff<span class="op">=</span><span class="fl">1</span>,drift.units<span class="op">=</span><span class="st">"days"</span><span class="op">)</span></span></code></pre></div>
<p>For <code><a href="../reference/morts.html">morts()</a></code>, there is a sixth argument
<code>drift</code> that specifies when drift should be applied. Drift
can be applied to identifying mortalities only
<code>drift="morts"</code>, identifying thresholds only
<code>drift="threshold"</code>, or both identifying mortalities and
thresholds <code>drift="both"</code>.</p>
<p>Applying drift to thresholds <code>drift="threshold"</code> will
increase the threshold, and fewer tags may be flagged as mortalities.
There are few cases where this will be desirable, but it may be useful
for arrays with two or more overlapping receivers. A single drift
residence event would be generated for a tag located within range of two
receivers, and this drift residence event would be included in
identifying thresholds.</p>
<p>The most conservative option is <code>drift="morts"</code>. This is
because drift residences are removed from identifying thresholds, and
thresholds will likely be shorter than if drift residences were
included. Including drift residences in identifying mortalities will
likely lengthen residence events, making it easier for an event to
exceed the threshold. See below for an example of identifying
mortalities with and without applying drift.</p>
<!-- Evaluate and plot when test dataset is ready -->
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">no_drift</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/morts.html">morts</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">data</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,method<span class="op">=</span><span class="st">"all"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/mortsplot.html">mortsplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">data</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,</span>
<span>                morts<span class="op">=</span><span class="va">no_drift</span><span class="op">)</span></span>
<span><span class="va">plot</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">drift_ex</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/morts.html">morts</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">data</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,method<span class="op">=</span><span class="st">"all"</span>,</span>
<span>                drift<span class="op">=</span><span class="st">"morts"</span>,ddd<span class="op">=</span><span class="va">drift.dataframe</span>,</span>
<span>                from.station<span class="op">=</span><span class="st">"From"</span>,to.station<span class="op">=</span><span class="st">"To"</span>,</span>
<span>                drift.cutoff<span class="op">=</span><span class="fl">1</span>,drift.units<span class="op">=</span><span class="st">"days"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/mortsplot.html">mortsplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">data</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,morts<span class="op">=</span><span class="va">drift_ex</span><span class="op">)</span></span>
<span><span class="va">plot</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="drift-function">
<code>drift()</code> function<a class="anchor" aria-label="anchor" href="#drift-function"></a>
</h2>
<p>If you are interested in exploring how drift residences are applied,
the <code><a href="../reference/drift.html">drift()</a></code> function that is called by <code><a href="../reference/morts.html">morts()</a></code>
and <code><a href="../reference/infrequent.html">infrequent()</a></code> is also available as a standalone
function. The arguments for <code><a href="../reference/drift.html">drift()</a></code> are the same as those
for the other functions.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">drift.data</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/drift.html">drift</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">data</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,</span>
<span>                  ddd<span class="op">=</span><span class="va">drift.dataframe</span>,from.station<span class="op">=</span><span class="st">"From"</span>,to.station<span class="op">=</span><span class="st">"To"</span>,</span>
<span>                  cutoff<span class="op">=</span><span class="fl">1</span>,cutoff.units<span class="op">=</span><span class="st">"days"</span><span class="op">)</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Rosie Smith, Heidi Swanson.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
