<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Digging into your data • mort</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Digging into your data">
<meta property="og:description" content="mort">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mort</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a1_data-prep.html">Formatting your data</a>
    </li>
    <li>
      <a href="../articles/a2_morts.html">Identifying potential mortalities</a>
    </li>
    <li>
      <a href="../articles/a3_drift.html">Dead and drifting</a>
    </li>
    <li>
      <a href="../articles/a4_season.html">Seasonality</a>
    </li>
    <li>
      <a href="../articles/a5_plots.html">Plotting your data</a>
    </li>
    <li>
      <a href="../articles/a6_digging.html">Digging into your data</a>
    </li>
    <li>
      <a href="../articles/a7_review.html">Review new data</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rosieluain/mort/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Digging into your data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rosieluain/mort/blob/HEAD/vignettes/a6_digging.Rmd" class="external-link"><code>vignettes/a6_digging.Rmd</code></a></small>
      <div class="hidden name"><code>a6_digging.Rmd</code></div>

    </div>

    
    
<p>All the functionality of the morts package is accessible with the
<code><a href="../reference/residences.html">residences()</a></code>, <code><a href="../reference/morts.html">morts()</a></code>,
<code><a href="../reference/infrequent.html">infrequent()</a></code>, <code><a href="../reference/mortsplot.html">mortsplot()</a></code>, and
<code><a href="../reference/review.html">review()</a></code> functions, addressed in the other vignettes. Many
of these functions rely on output from additional functions. As you are
exploring your data, you may want to run these additional functions to
better dig through and understand your data. The <code><a href="../reference/drift.html">drift()</a></code>
and <code><a href="../reference/season.html">season()</a></code> functions are respectively addressed in the <a href="https://rosieluain.github.io/mort/articles/a3_drift.html" class="external-link">Drift</a>
and <a href="https://rosieluain.github.io/mort/articles/a4_season.html" class="external-link">Seasonality</a>
vignettes. Here, we address the <code><a href="../reference/stationchange.html">stationchange()</a></code>,
<code><a href="../reference/resmax.html">resmax()</a></code>, and <code><a href="../reference/resmaxcml.html">resmaxcml()</a></code> functions.</p>
<div class="section level2">
<h2 id="stationchange-function">
<code>stationchange()</code> function<a class="anchor" aria-label="anchor" href="#stationchange-function"></a>
</h2>
<p>The thresholds in <code><a href="../reference/morts.html">morts()</a></code> rely on identifying the most
recent station or location change of each animal, because it is assumed
that the animal was alive before this most recent movement. To explore
the most recent station changes for each animal, the user can can call
<code><a href="../reference/stationchange.html">stationchange()</a></code> directly. The arguments are used in the
same manner as for <code><a href="../reference/morts.html">morts()</a></code>. Drift may also be applied with
the argument <code>drift=TRUE</code>. See the <a href="https://rosieluain.github.io/mort/articles/a3_drift.html" class="external-link">Drift</a>
vignette for more information on the other drift arguments.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">station_change</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/stationchange.html">stationchange</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">events</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,</span>
<span>                              drift<span class="op">=</span><span class="cn">TRUE</span>,ddd<span class="op">=</span><span class="va">ddd</span>,units<span class="op">=</span><span class="st">"days"</span>,from.station<span class="op">=</span><span class="st">"From"</span>,to.station<span class="op">=</span><span class="st">"To"</span><span class="op">)</span></span></code></pre></div>
<p>The output of <code><a href="../reference/stationchange.html">stationchange()</a></code> is a dataframe with one
row for each animal ID. The residence event information (start, end,
duration) is for the event that marks the most recent station change
(i.e., the start is when the movement occurred).</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="17%">
<col width="4%">
<col width="25%">
<col width="26%">
</colgroup>
<thead><tr class="header">
<th align="center">ResidenceStart</th>
<th align="center">Station.Name</th>
<th align="center">ID</th>
<th align="center">ResidenceEnd</th>
<th align="center">ResidenceLength.days</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">2005-06-25 21:26:12</td>
<td align="center">10</td>
<td align="center">A</td>
<td align="center">2005-06-26 09:01:17</td>
<td align="center">0.4826968</td>
</tr>
<tr class="even">
<td align="center">2005-07-01 05:28:31</td>
<td align="center">1</td>
<td align="center">B</td>
<td align="center">2005-07-01 05:28:31</td>
<td align="center">0.0000000</td>
</tr>
<tr class="odd">
<td align="center">2004-06-19 15:31:47</td>
<td align="center">9</td>
<td align="center">C</td>
<td align="center">2004-06-19 19:10:01</td>
<td align="center">0.1515509</td>
</tr>
<tr class="even">
<td align="center">2004-08-31 16:48:00</td>
<td align="center">5</td>
<td align="center">D</td>
<td align="center">2004-08-31 17:38:18</td>
<td align="center">0.0349306</td>
</tr>
<tr class="odd">
<td align="center">2004-07-15 21:09:22</td>
<td align="center">5</td>
<td align="center">E</td>
<td align="center">2004-10-12 21:44:11</td>
<td align="center">89.0241782</td>
</tr>
<tr class="even">
<td align="center">2005-06-28 21:12:58</td>
<td align="center">1</td>
<td align="center">F</td>
<td align="center">2005-10-09 20:28:05</td>
<td align="center">102.9688310</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="resmax-function">
<code>resmax()</code> function<a class="anchor" aria-label="anchor" href="#resmax-function"></a>
</h2>
<p>The threshold for <code><a href="../reference/morts.html">morts()</a></code> when <code>method</code> is
“last”, “any”, or “all” is determined by identifying the longest
residence event that occurred before a station change. If there are some
animals with very long resident events that are not identified as
potential mortalities by <code><a href="../reference/morts.html">morts()</a></code>, you may want to look at
the longest living residence events to explore how the threshold is
being identified. This can be done by calling the <code><a href="../reference/resmax.html">resmax()</a></code>
function directly.</p>
<p>Note that <code><a href="../reference/stationchange.html">stationchange()</a></code> must be run beforehand, and
the output provided in the argument <code>stnchange</code>.</p>
<p>If drift was applied in generating the residence events, the
<code>drift</code> argument specifies whether drift events should be
included in <code><a href="../reference/resmax.html">resmax()</a></code>. If drift was not applied or if
<code>drift="morts"</code> in <code><a href="../reference/morts.html">morts()</a></code>, then you should
include <code>drift=FALSE</code>. If <code>drift="threshold"</code> or
<code>drift="both"</code> in <code><a href="../reference/morts.html">morts()</a></code>, then you should
include <code>drift=TRUE</code>. See the <a href="https://rosieluain.github.io/mort/articles/a3_drift.html" class="external-link">Drift</a>
vignette for more information on applying drift.</p>
<p>The output of <code><a href="../reference/resmax.html">resmax()</a></code> is a dataframe with one row for
each animal ID. The residence event information is for the event that
has the longest duration and occurred before the most recent station
change for that animal.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">resmax_example</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/resmax.html">resmax</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">events</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,</span>
<span>                       res.start<span class="op">=</span><span class="st">"ResidenceStart"</span>,residences<span class="op">=</span><span class="st">"ResidenceLength.days"</span>,</span>
<span>                       stnchange<span class="op">=</span><span class="va">station_change</span>,drift<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="25%">
<col width="17%">
<col width="4%">
<col width="25%">
<col width="26%">
</colgroup>
<thead><tr class="header">
<th align="center">ResidenceStart</th>
<th align="center">Station.Name</th>
<th align="center">ID</th>
<th align="center">ResidenceEnd</th>
<th align="center">ResidenceLength.days</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">2003-09-24 16:56:36</td>
<td align="center">1</td>
<td align="center">A</td>
<td align="center">2003-10-11 17:15:47</td>
<td align="center">17.0133218</td>
</tr>
<tr class="even">
<td align="center">2003-09-13 13:25:38</td>
<td align="center">4</td>
<td align="center">C</td>
<td align="center">2003-10-07 16:26:06</td>
<td align="center">24.1253241</td>
</tr>
<tr class="odd">
<td align="center">2003-08-16 22:35:23</td>
<td align="center">1</td>
<td align="center">G</td>
<td align="center">2003-08-18 12:05:20</td>
<td align="center">1.5624653</td>
</tr>
<tr class="even">
<td align="center">2003-01-31 19:47:16</td>
<td align="center">8</td>
<td align="center">I</td>
<td align="center">2003-02-06 18:59:34</td>
<td align="center">5.9668750</td>
</tr>
<tr class="odd">
<td align="center">2002-08-26 07:18:12</td>
<td align="center">8</td>
<td align="center">J</td>
<td align="center">2002-08-26 22:01:00</td>
<td align="center">0.6130556</td>
</tr>
<tr class="even">
<td align="center">2003-01-16 18:55:12</td>
<td align="center">8</td>
<td align="center">K</td>
<td align="center">2003-02-08 16:31:25</td>
<td align="center">22.9001505</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="resmaxcml-function">
<code>resmaxcml()</code> function<a class="anchor" aria-label="anchor" href="#resmaxcml-function"></a>
</h2>
<p>The threshold for <code><a href="../reference/morts.html">morts()</a></code> when the <code>method</code>
is “cumulative” or “any” is determined by finding the longest cumulative
residence event that occurred before a station change. Cumulative
residence events are the length of time between when an animal was first
detected at a station and when it was last detected at the same station,
ignoring any gaps in detection. You may wish to explore the cumulative
residence events that contribute to determining this threshold. This can
be done by calling the <code><a href="../reference/resmaxcml.html">resmaxcml()</a></code> function directly.</p>
<p>Note that <code><a href="../reference/stationchange.html">stationchange()</a></code> must be run beforehand, and
the output provided in the argument <code>stnchange</code>.</p>
<p>If you have applied drift by using <code>drift="threshold"</code> or
<code>drift="both"</code> in <code><a href="../reference/morts.html">morts()</a></code>, then you should apply
drift using the <code><a href="../reference/drift.html">drift()</a></code> function and use the output as the
input for the <code>data</code> argument in <code><a href="../reference/resmaxcml.html">resmaxcml()</a></code>.
See the <a href="https://rosieluain.github.io/mort/articles/a3_drift.html" class="external-link">Drift</a>
vignette for more information on applying drift.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">resmaxcml_example</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/resmaxcml.html">resmaxcml</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">events</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,</span>
<span>                             res.start<span class="op">=</span><span class="st">"ResidenceStart"</span>,res.end<span class="op">=</span><span class="st">"ResidenceEnd"</span>,</span>
<span>                             residences<span class="op">=</span><span class="st">"ResidenceLength.days"</span>,units<span class="op">=</span><span class="st">"days"</span>,</span>
<span>                             stnchange<span class="op">=</span><span class="va">station_change</span><span class="op">)</span></span></code></pre></div>
<p>The output of <code><a href="../reference/resmaxcml.html">resmaxcml()</a></code> is similar to that from
<code><a href="../reference/resmax.html">resmax()</a></code>, except there is one row for each cumulative
residence event (not just the longest event). This means that there may
be more than one row for each animal ID.</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="17%">
<col width="4%">
<col width="25%">
<col width="26%">
</colgroup>
<thead><tr class="header">
<th align="center">ResidenceStart</th>
<th align="center">Station.Name</th>
<th align="center">ID</th>
<th align="center">ResidenceEnd</th>
<th align="center">ResidenceLength.days</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">2003-09-21 23:49:45</td>
<td align="center">11</td>
<td align="center">A</td>
<td align="center">2003-09-22 00:08:18</td>
<td align="center">0.0128819 days</td>
</tr>
<tr class="even">
<td align="center">2003-09-22 00:20:28</td>
<td align="center">1</td>
<td align="center">A</td>
<td align="center">2004-06-24 01:15:25</td>
<td align="center">276.0381597 days</td>
</tr>
<tr class="odd">
<td align="center">2004-06-24 17:30:42</td>
<td align="center">14</td>
<td align="center">A</td>
<td align="center">2004-06-24 17:30:42</td>
<td align="center">0.0000000 days</td>
</tr>
<tr class="even">
<td align="center">2004-06-24 20:37:18</td>
<td align="center">8</td>
<td align="center">A</td>
<td align="center">2004-06-24 21:39:34</td>
<td align="center">0.0432407 days</td>
</tr>
<tr class="odd">
<td align="center">2004-06-25 05:48:34</td>
<td align="center">2</td>
<td align="center">A</td>
<td align="center">2004-06-25 06:47:40</td>
<td align="center">0.0410417 days</td>
</tr>
<tr class="even">
<td align="center">2004-06-26 04:49:31</td>
<td align="center">10</td>
<td align="center">A</td>
<td align="center">2004-07-01 07:41:36</td>
<td align="center">5.1195023 days</td>
</tr>
</tbody>
</table>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Rosie Smith, Heidi Swanson.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
