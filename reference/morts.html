<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Identify potential mortalities or expelled tags — morts • mort</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Identify potential mortalities or expelled tags — morts"><meta property="og:description" content="Identifies potential mortalities or expelled tags from passive
acoustic telemetry data. Mortalities are identified based on thresholds
derived from the dataset itself."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mort</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/a1_data-prep.html">Formatting your data</a>
    </li>
    <li>
      <a href="../articles/a2_morts.html">Identifying potential mortalities</a>
    </li>
    <li>
      <a href="../articles/a3_drift.html">Dead and drifting</a>
    </li>
    <li>
      <a href="../articles/a4_season.html">Seasonality</a>
    </li>
    <li>
      <a href="../articles/a5_plots.html">Plotting your data</a>
    </li>
    <li>
      <a href="../articles/a6_digging.html">Digging into your data</a>
    </li>
    <li>
      <a href="../articles/a7_review.html">Review new data</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rosieluain/mort/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Identify potential mortalities or expelled tags</h1>
    <small class="dont-index">Source: <a href="https://github.com/rosieluain/mort/blob/HEAD/R/mort.R" class="external-link"><code>R/mort.R</code></a></small>
    <div class="hidden name"><code>morts.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Identifies potential mortalities or expelled tags from passive
acoustic telemetry data. Mortalities are identified based on thresholds
derived from the dataset itself.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">morts</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"mort"</span>,</span>
<span>  <span class="va">ID</span>,</span>
<span>  <span class="va">station</span>,</span>
<span>  res.start <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  res.end <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  residences <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  singles <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  backwards <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  drift <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  ddd <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  from.station <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  to.station <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  drift.cutoff <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  drift.units <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  season.start <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  season.end <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  season.overlap <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  morts.prev <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  progress.bar <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>a dataframe of residence events. Residence events must include
tag ID, location name, start time, end time, and duration.</p></dd>


<dt>type</dt>
<dd><p>the method used to generate the residence events. Options are
"mort", "actel", "glatos", "vtrack", or "manual". If "manual", then user
must specify <code>ID</code>, <code>station</code>, <code>res.start</code>, <code>res.end</code>, <code>residences</code>, and <code>units</code>.</p></dd>


<dt>ID</dt>
<dd><p>a string of the name of the column in <code>data</code> that holds the tag or
sample IDs.</p></dd>


<dt>station</dt>
<dd><p>a string of the name of the column in <code>data</code> that holds the
station name or receiver location.</p></dd>


<dt>res.start</dt>
<dd><p>a string of the name of the column in <code>data</code> that holds the
start date and time. Must be specified and in POSIXt or character in the format
YYYY-mm-dd HH:MM:SS if <code>type="manual"</code>.</p></dd>


<dt>res.end</dt>
<dd><p>a string of the name of the column in <code>data</code> that holds the
end date and time. Must be specified and in POSIXt or character in the format
YYYY-mm-dd HH:MM:SS if <code>type="manual"</code>.</p></dd>


<dt>method</dt>
<dd><p>the method to be used in flagging mortalities. Options are
"last", "any", "cumulative", or "all"</p></dd>


<dt>units</dt>
<dd><p>units of the duration of the residence events in <code>data</code>.</p></dd>


<dt>residences</dt>
<dd><p>a character string with the name of the column in <code>data</code>
that holds the duration of the residence events.</p></dd>


<dt>singles</dt>
<dd><p>specifies if single detections (length of residence event = 0)
should be retained. Default is <code>TRUE</code>. Note that if single detections are
removed (<code>singles=FALSE</code>), <code>backwards</code> will also not include single detections.</p></dd>


<dt>backwards</dt>
<dd><p>option to examine residence events prior to the one that was
flagged as a potential mortality. If prior residence events are at the same
station/location as the flagged event, the time of the potential mortality is shifted
earlier. Note that if <code>backwards=TRUE</code>, then the output of <code>method="last"</code> is
the same as <code>method="any"</code>.</p></dd>


<dt>drift</dt>
<dd><p>option to account for potential drifting in identifying
thresholds and/or mortalities. Options are "none", "threshold",
"morts", "both". Default is "none".</p></dd>


<dt>ddd</dt>
<dd><p>a dataframe of stations/locations where detected movement between
stations may be due to drifting of an expelled tag or dead animal.</p></dd>


<dt>from.station</dt>
<dd><p>a string of the name of the column in <code>ddd</code> that contains
the station/location names where drifting detections may start from. Must
be identical to the station/location names in <code>data</code>.</p></dd>


<dt>to.station</dt>
<dd><p>a string of the name of the column in <code>ddd</code> that contains
the station/location names where drifting detections may move to. Must
be identical to the station/location names in <code>data</code>.</p></dd>


<dt>drift.cutoff</dt>
<dd><p>the maximum allowable time difference between detections to be
considered a single residence event. Recommended to be the same as used
to generate residence events in <code>data</code>.</p></dd>


<dt>drift.units</dt>
<dd><p>the units of the cutoff. Options are "secs", "mins", "hours",
"days", and "weeks". Recommended to be the same as used to generate
residence events in <code>data</code>.</p></dd>


<dt>season.start</dt>
<dd><p>the start date/time(s) of the period of interest. If the
period of interest is the same in all study years, must be a character string
in format "dd-mm". Otherwise, must be in POSIXt, or a character string in
format YYYY-mm-dd HH:MM:SS.</p></dd>


<dt>season.end</dt>
<dd><p>the end date/time(s) of the period of interest. If the
period of interest is the same in all study years, must be a character string
in format "dd-mm". Otherwise, must be in POSIXt, or a character string in
format YYYY-mm-dd HH:MM:SS.</p></dd>


<dt>season.overlap</dt>
<dd><p>option to include residence events that overlap either the
beginning or the end of the period of interest. If <code>TRUE</code>, the full overlapping
residence events will be retained. If <code>FALSE</code>, only the portion of the
residence events that is within the period of interest will be retained,
and <code>residences</code> will be recalculated, using specified <code>units</code>.
Default is <code>TRUE</code></p></dd>


<dt>morts.prev</dt>
<dd><p>a dataframe containing potential mortalities. The dataframe must
have the same columns and in the same order as <code>data</code>.</p></dd>


<dt>progress.bar</dt>
<dd><p>option to display progress bar as function and called
functions are run. Default is TRUE.</p></dd>


<dt>season</dt>
<dd><p>a dataframe with start and end dates of the season(s) of interest</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>a dataframe with one row for each tag ID, including the date/time of
the residence start when the potential mortality or expelled tag was identified.
All input data fields
(e.g., any name, location, or species information that was included with the
input data) will be retained.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">morts_ex</span><span class="op">&lt;-</span><span class="fu">morts</span><span class="op">(</span>data<span class="op">=</span><span class="va">events</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,</span></span>
<span class="r-in"><span>station<span class="op">=</span><span class="st">"Station.Name"</span>,method<span class="op">=</span><span class="st">"any"</span>,progress.bar<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Identifying last station change"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   8%  |                                                                              |============                                                          |  17%  |                                                                              |==================                                                    |  25%  |                                                                              |=======================                                               |  33%  |                                                                              |=============================                                         |  42%  |                                                                              |===================================                                   |  50%  |                                                                              |=========================================                             |  58%  |                                                                              |===============================================                       |  67%  |                                                                              |====================================================                  |  75%  |                                                                              |==========================================================            |  83%  |                                                                              |================================================================      |  92%  |                                                                              |======================================================================| 100%[1] "Identifying the resmax threshold"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   8%  |                                                                              |============                                                          |  17%  |                                                                              |==================                                                    |  25%  |                                                                              |=======================                                               |  33%  |                                                                              |=============================                                         |  42%  |                                                                              |===================================                                   |  50%  |                                                                              |=========================================                             |  58%  |                                                                              |===============================================                       |  67%  |                                                                              |====================================================                  |  75%  |                                                                              |==========================================================            |  83%  |                                                                              |================================================================      |  92%  |                                                                              |======================================================================| 100%[1] "Identifying mortalities for method='any'"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">morts_ex</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          ResidenceStart Station.Name ID        ResidenceEnd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100 2005-07-02 17:02:03            5  D 2005-10-10 21:55:45</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 101 2004-07-15 21:09:22            5  E 2004-10-12 21:44:11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 106 2005-06-28 21:12:58            1  F 2005-10-09 20:28:05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 201 2006-02-04 21:25:18           17  G 2006-05-01 06:30:02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ResidenceLength.days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100            100.20396</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 101             89.02418</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 106            102.96883</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 201             85.37829</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">morts_ex_bw</span><span class="op">&lt;-</span><span class="fu">morts</span><span class="op">(</span>data<span class="op">=</span><span class="va">events</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,</span></span>
<span class="r-in"><span>station<span class="op">=</span><span class="st">"Station.Name"</span>,method<span class="op">=</span><span class="st">"any"</span>,backwards<span class="op">=</span><span class="cn">TRUE</span>,progress.bar<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Identifying last station change"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   8%  |                                                                              |============                                                          |  17%  |                                                                              |==================                                                    |  25%  |                                                                              |=======================                                               |  33%  |                                                                              |=============================                                         |  42%  |                                                                              |===================================                                   |  50%  |                                                                              |=========================================                             |  58%  |                                                                              |===============================================                       |  67%  |                                                                              |====================================================                  |  75%  |                                                                              |==========================================================            |  83%  |                                                                              |================================================================      |  92%  |                                                                              |======================================================================| 100%[1] "Identifying the resmax threshold"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   8%  |                                                                              |============                                                          |  17%  |                                                                              |==================                                                    |  25%  |                                                                              |=======================                                               |  33%  |                                                                              |=============================                                         |  42%  |                                                                              |===================================                                   |  50%  |                                                                              |=========================================                             |  58%  |                                                                              |===============================================                       |  67%  |                                                                              |====================================================                  |  75%  |                                                                              |==========================================================            |  83%  |                                                                              |================================================================      |  92%  |                                                                              |======================================================================| 100%[1] "Identifying mortalities for method='any'"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Applying backwards=TRUE"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">morts_ex_bw</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          ResidenceStart Station.Name ID        ResidenceEnd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100 2004-08-31 16:48:00            5  D 2004-08-31 17:38:18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 101 2004-07-15 21:09:22            5  E 2004-10-12 21:44:11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 106 2005-06-28 21:12:58            1  F 2005-10-09 20:28:05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 201 2004-06-28 12:30:56           17  G 2004-06-30 09:59:17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ResidenceLength.days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100           0.03493056</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 101          89.02417824</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 106         102.96883102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 201           1.89468750</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Rosie Smith, Heidi Swanson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

