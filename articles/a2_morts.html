<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Identifying potential mortalities • mort</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Identifying potential mortalities">
<meta property="og:description" content="mort">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mort</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a1_data-prep.html">Formatting your data</a>
    </li>
    <li>
      <a href="../articles/a2_morts.html">Identifying potential mortalities</a>
    </li>
    <li>
      <a href="../articles/a3_drift.html">Dead and drifting</a>
    </li>
    <li>
      <a href="../articles/a4_season.html">Seasonality</a>
    </li>
    <li>
      <a href="../articles/a5_plots.html">Plotting your data</a>
    </li>
    <li>
      <a href="../articles/a6_digging.html">Digging into your data</a>
    </li>
    <li>
      <a href="../articles/a7_review.html">Review new data</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rosieluain/mort/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Identifying potential mortalities</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rosieluain/mort/blob/HEAD/vignettes/a2_morts.Rmd" class="external-link"><code>vignettes/a2_morts.Rmd</code></a></small>
      <div class="hidden name"><code>a2_morts.Rmd</code></div>

    </div>

    
    
<p>Note that potential mortalities or potential cases of tag expulsion
are referred to here as “mortalities” or “potential mortalities” for
simplicity. <br><br><br> There are two functions for identifying
potential mortalities: <code><a href="../reference/morts.html">morts()</a></code> and
<code><a href="../reference/infrequent.html">infrequent()</a></code>.</p>
<div class="section level2">
<h2 id="morts-function">
<code>morts()</code> function<a class="anchor" aria-label="anchor" href="#morts-function"></a>
</h2>
<p>The <code><a href="../reference/morts.html">morts()</a></code> function uses thresholds derived from the
dataset to identify potential mortalities. There are four options for
identifying thresholds and mortalities, specified with the
<code>method</code> argument in <code><a href="../reference/morts.html">morts()</a></code>. The options “last”
and “any” use a threshold derived from the duration of residence events.
The option “cumulative” uses a threshold derived from cumulative
residence events (defined below). The option “all” applies both “any”
and “cumulative” (“last” is not called directly, as the results are also
captured by “any”).</p>
<p>All options rely on identifying the most recent station or location
change for each animal that was detected by the array. The station
change marks the last time the animal moved, and it is assumed that the
animal was alive before this point.</p>
<p>The black points in the plot below show examples of the most recent
station changes. See <code><a href="../reference/stationchange.html">stationchange()</a></code> and the <a href="https://rosieluain.github.io/mort/articles/a6_digging.html" class="external-link">Digging</a>
vignette for more information on how mort identifies station
changes.</p>
<p><img src="a2_morts_files/figure-html/stnchange_plot-1.png" width="672"></p>
<div class="section level3">
<h3 id="duration-of-residence-events">Duration of residence events<a class="anchor" aria-label="anchor" href="#duration-of-residence-events"></a>
</h3>
<p>After identifying the most recent station change, the longest single
residence event that occurred before the station change is identified
for each animal.</p>
<p>These long residences can be explored by the user using the
<code><a href="../reference/resmax.html">resmax()</a></code> function (see the <a href="https://rosieluain.github.io/mort/articles/a6_digging.html" class="external-link">Digging</a>
vignette for more information). The output will look like this:</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="17%">
<col width="4%">
<col width="25%">
<col width="26%">
</colgroup>
<thead><tr class="header">
<th align="center">ResidenceStart</th>
<th align="center">Station.Name</th>
<th align="center">ID</th>
<th align="center">ResidenceEnd</th>
<th align="center">ResidenceLength.days</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">2003-07-22 21:48:42</td>
<td align="center">18</td>
<td align="center">H</td>
<td align="center">2003-09-21 12:08:52</td>
<td align="center">60.59734</td>
</tr>
<tr class="even">
<td align="center">2005-08-14 05:01:50</td>
<td align="center">4</td>
<td align="center">J</td>
<td align="center">2005-10-09 18:55:58</td>
<td align="center">56.57926</td>
</tr>
<tr class="odd">
<td align="center">2002-12-04 19:08:02</td>
<td align="center">8</td>
<td align="center">L</td>
<td align="center">2003-01-17 16:40:29</td>
<td align="center">43.89753</td>
</tr>
<tr class="even">
<td align="center">2003-09-13 13:25:38</td>
<td align="center">4</td>
<td align="center">C</td>
<td align="center">2003-10-07 16:26:06</td>
<td align="center">24.12532</td>
</tr>
<tr class="odd">
<td align="center">2003-01-16 18:55:12</td>
<td align="center">8</td>
<td align="center">K</td>
<td align="center">2003-02-08 16:31:25</td>
<td align="center">22.90015</td>
</tr>
<tr class="even">
<td align="center">2003-09-24 16:56:36</td>
<td align="center">1</td>
<td align="center">A</td>
<td align="center">2003-10-11 17:15:47</td>
<td align="center">17.01332</td>
</tr>
</tbody>
</table>
<p>The longest residence event (60 days in the table above) is used as
the threshold.</p>
<p>There are two options for how to apply the threshold:</p>
<div class="section level4">
<h4 id="last">1. last<a class="anchor" aria-label="anchor" href="#last"></a>
</h4>
<p>The threshold is applied to the last (most recent) residence event of
each animal. Any residence events that are longer than the threshold are
flagged as potential mortalities.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">last_ex</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/morts.html">morts</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">events</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,method<span class="op">=</span><span class="st">"last"</span><span class="op">)</span></span></code></pre></div>
<p>The black points in the plot below indicate the beginning of
residence events that were longer than the threshold, and were therefore
flagged in <code>last_ex</code> as run above.</p>
<p><img src="a2_morts_files/figure-html/last_ex_plot-1.png" width="672"></p>
</div>
<div class="section level4">
<h4 id="any">2. any<a class="anchor" aria-label="anchor" href="#any"></a>
</h4>
<p>The threshold is applied to any residence event that occurred after
the most recent station change for each animal.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">any_ex</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/morts.html">morts</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">events</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,method<span class="op">=</span><span class="st">"any"</span><span class="op">)</span></span></code></pre></div>
<p><img src="a2_morts_files/figure-html/morts_any_plot-1.png" width="672"></p>
<p>Note in the examples above that ID and station were specified for
<code>type="mort"</code>. For other supported input types, there is no
default for ID and station, but they can both be specified as “auto” and
will be identified automatically by mort:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">actel_ex</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/morts.html">morts</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">data</span>,type<span class="op">=</span><span class="st">"actel"</span>,ID<span class="op">=</span><span class="st">"auto"</span>,station<span class="op">=</span><span class="st">"auto"</span>,method<span class="op">=</span><span class="st">"any"</span><span class="op">)</span></span></code></pre></div>
<p>For <code>type="manual"</code>, all required fields must be specified
directly (i.e., none can be “auto”):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">manual_ex</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/morts.html">morts</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">data</span>,type<span class="op">=</span><span class="st">"manual"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,</span>
<span>                 res.start<span class="op">=</span><span class="st">"ResidenceStart"</span>,res.end<span class="op">=</span><span class="st">"ResidenceEnd"</span>,</span>
<span>                 residences<span class="op">=</span><span class="st">"ResidenceLength.days"</span>,units<span class="op">=</span><span class="st">"days"</span>,method<span class="op">=</span><span class="st">"any"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="cumulative-residence-events">Cumulative residence events<a class="anchor" aria-label="anchor" href="#cumulative-residence-events"></a>
</h3>
<p>Cumulative residence events are the length of time between when an
animal was first detected at a station and when it was last detected at
the same station, ignoring any gaps in detection (or <code>cutoff</code>
in <code><a href="../reference/residences.html">residences()</a></code>). The black points in the plot below
indicate the start and end of the longest cumulative residence events,
before a station change, for each fish.</p>
<p><img src="a2_morts_files/figure-html/sc_cmlres_plot-1.png" width="672"></p>
<p>The threshold for cumulative residence events is identified similarly
to that for single residence events. The cumulative residence events can
be explored by the user using the <code><a href="../reference/resmaxcml.html">resmaxcml()</a></code> function (see
the <a href="https://rosieluain.github.io/mort/articles/a6_digging.html" class="external-link">Digging</a>
vignette for more information). The output will look like this:</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="17%">
<col width="4%">
<col width="25%">
<col width="26%">
</colgroup>
<thead><tr class="header">
<th align="center">ResidenceStart</th>
<th align="center">Station.Name</th>
<th align="center">ID</th>
<th align="center">ResidenceEnd</th>
<th align="center">ResidenceLength.days</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">2002-08-27 18:52:56</td>
<td align="center">4</td>
<td align="center">J</td>
<td align="center">2005-10-09 18:55:58</td>
<td align="center">1139.0021 days</td>
</tr>
<tr class="even">
<td align="center">2003-09-22 00:20:28</td>
<td align="center">1</td>
<td align="center">A</td>
<td align="center">2004-06-24 01:15:25</td>
<td align="center">276.0382 days</td>
</tr>
<tr class="odd">
<td align="center">2003-07-22 21:48:42</td>
<td align="center">18</td>
<td align="center">H</td>
<td align="center">2004-01-27 06:48:41</td>
<td align="center">188.3750 days</td>
</tr>
<tr class="even">
<td align="center">2002-09-27 18:03:11</td>
<td align="center">8</td>
<td align="center">K</td>
<td align="center">2003-02-09 19:45:13</td>
<td align="center">135.0709 days</td>
</tr>
<tr class="odd">
<td align="center">2002-10-15 19:55:49</td>
<td align="center">8</td>
<td align="center">L</td>
<td align="center">2003-02-18 17:35:32</td>
<td align="center">125.9026 days</td>
</tr>
<tr class="even">
<td align="center">2004-02-16 18:10:21</td>
<td align="center">8</td>
<td align="center">C</td>
<td align="center">2004-06-08 23:21:49</td>
<td align="center">113.2163 days</td>
</tr>
</tbody>
</table>
<p>Note that the threshold in the example above is extremely large (1139
days). In this example, the large threshold is due to the drift and can
be corrected by applying drift within <code><a href="../reference/morts.html">morts()</a></code>. See the <a href="https://rosieluain.github.io/mort/articles/a3_drift.html" class="external-link">Drift</a>
vignette for more information.</p>
<p>The threshold is then applied to cumulative residence events that
occurred after the last station change to flag potential
mortalities.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cumulative_ex</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/morts.html">morts</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">events</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,method<span class="op">=</span><span class="st">"cumulative"</span><span class="op">)</span></span></code></pre></div>
<p><img src="a2_morts_files/figure-html/clm_ex_plot-1.png" width="672"></p>
</div>
<div class="section level3">
<h3 id="notes-on-selecting-a-method">Notes on selecting a method<a class="anchor" aria-label="anchor" href="#notes-on-selecting-a-method"></a>
</h3>
<p>The methods outlined above may not all be relevant for all species
and acoustic arrays. Choosing an appropriate method is the
responsibility of the user. It is recommended to at least run all
methods and explore the results. The thresholds for cumulative residence
events are typically much longer than those for single residence events.
Running <code>method="last"</code> will identify potential mortalities
that may have occurred recently, before reaching the cumulative
threshold. Conversely, <code>method="cumulative"</code> may identify
potential mortalities from multiple short residence events, which each
on their own would not be long enough to be identified by
<code>method="any"</code>. In this way, running
<code>method="all"</code> is the most conservative method.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_ex</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/morts.html">morts</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">events</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,method<span class="op">=</span><span class="st">"all"</span><span class="op">)</span></span></code></pre></div>
<p><img src="a2_morts_files/figure-html/all_ex_plot-1.png" width="672"></p>
</div>
<div class="section level3">
<h3 id="output">Output<a class="anchor" aria-label="anchor" href="#output"></a>
</h3>
<p>The output of <code><a href="../reference/morts.html">morts()</a></code> is a dataframe, where each row is
the residence event where a flagged mortality was identified:</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="17%">
<col width="4%">
<col width="25%">
<col width="26%">
</colgroup>
<thead><tr class="header">
<th align="center">ResidenceStart</th>
<th align="center">Station.Name</th>
<th align="center">ID</th>
<th align="center">ResidenceEnd</th>
<th align="center">ResidenceLength.days</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">2005-07-02 17:02:03</td>
<td align="center">5</td>
<td align="center">D</td>
<td align="center">2005-10-10 21:55:45</td>
<td align="center">100.2039583</td>
</tr>
<tr class="even">
<td align="center">2004-07-15 21:09:22</td>
<td align="center">5</td>
<td align="center">E</td>
<td align="center">2004-10-12 21:44:11</td>
<td align="center">89.0241782</td>
</tr>
<tr class="odd">
<td align="center">2005-06-28 21:12:58</td>
<td align="center">1</td>
<td align="center">F</td>
<td align="center">2005-10-09 20:28:05</td>
<td align="center">102.9688310</td>
</tr>
<tr class="even">
<td align="center">2006-02-04 21:25:18</td>
<td align="center">17</td>
<td align="center">G</td>
<td align="center">2006-05-01 06:30:02</td>
<td align="center">85.3782870</td>
</tr>
<tr class="odd">
<td align="center">2003-07-14 08:42:08</td>
<td align="center">20</td>
<td align="center">I</td>
<td align="center">2003-07-14 22:21:10</td>
<td align="center">0.5687731</td>
</tr>
</tbody>
</table>
<p><br><br></p>
</div>
</div>
<div class="section level2">
<h2 id="infrequent-function">
<code>infrequent()</code> function<a class="anchor" aria-label="anchor" href="#infrequent-function"></a>
</h2>
<p>The <code><a href="../reference/infrequent.html">infrequent()</a></code> function is used to identify potential
mortalities or expelled tags that may be located just outside the usual
range of a receiver, and are therefore detected briefly and
intermittently when conditions allow.</p>
<p><img src="a2_morts_files/figure-html/inf_plot-1.png" width="672"></p>
<p>For this function, the thresholds are user-defined. The user has two
options for defining the thresholds:</p>
<div class="section level4">
<h4 id="recent">1. recent<a class="anchor" aria-label="anchor" href="#recent"></a>
</h4>
<p>For <code>method="recent"</code>, the timeframe for assessing
infrequent residence events begins with the most recent residence event,
and extends back in time for the <code>recent.period</code>. If the sum
of the duration of all residence events in this timeframe is less than
the <code>threshold</code>, the animal is flagged as a potential
mortality. In the following example, animals are flagged if they were
detected for less than 60 minutes within one year (52 weeks) preceding
their most recent residence event.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">recent_ex</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/infrequent.html">infrequent</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">events</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,</span>
<span>                      method<span class="op">=</span><span class="st">"recent"</span>,threshold<span class="op">=</span><span class="fl">60</span>,threshold.units<span class="op">=</span><span class="st">"mins"</span>,</span>
<span>                      recent.period<span class="op">=</span><span class="fl">52</span>,recent.units<span class="op">=</span><span class="st">"weeks"</span><span class="op">)</span></span></code></pre></div>
<p><img src="a2_morts_files/figure-html/rec_plot-1.png" width="672"></p>
</div>
<div class="section level4">
<h4 id="defined">2. defined<a class="anchor" aria-label="anchor" href="#defined"></a>
</h4>
<p>For <code>method="defined"</code>, the timeframe for assessing
infrequent residence events is specified (defined) by the user with the
<code>start</code> and <code>end</code> arguments. In the following
example, an animal is flagged as potential mortality if the sum of the
duration of all residence events between 15 June and 15 October 2022 is
less than 60 minutes.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">defined_ex</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/infrequent.html">infrequent</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">events</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,</span>
<span>                       method<span class="op">=</span><span class="st">"defined"</span>,threshold<span class="op">=</span><span class="fl">60</span>,threshold.units<span class="op">=</span><span class="st">"mins"</span>,</span>
<span>                      start<span class="op">=</span><span class="st">"2006-06-15"</span>,end<span class="op">=</span><span class="st">"2006-10-15"</span><span class="op">)</span></span></code></pre></div>
<p><img src="a2_morts_files/figure-html/def_plot-1.png" width="672"></p>
<p>Note that mort will assign the UTC timezone to <code>start</code> and
<code>end</code>. If you want to define the period of interest using
local times, it is recommended to convert local datetimes to POSIXt and
then convert the timezone to UTC:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">start</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2022-06-15"</span>,tz<span class="op">=</span><span class="st">"America/Edmonton"</span><span class="op">)</span></span>
<span><span class="va">start</span></span>
<span><span class="co">#&gt; [1] "2022-06-15 MDT"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">start</span><span class="op">)</span><span class="op">$</span><span class="va">tzone</span><span class="op">&lt;-</span><span class="st">"UTC"</span></span>
<span><span class="va">start</span></span>
<span><span class="co">#&gt; [1] "2022-06-15 06:00:00 UTC"</span></span></code></pre></div>
<p>The output of <code><a href="../reference/infrequent.html">infrequent()</a></code> is in the same format as the
output of <code><a href="../reference/morts.html">morts()</a></code> (see above). The output from one method
can be added to the output from the other, using the
<code>morts.prev</code> argument. See below for more information on
using <code>morts.prev</code>.</p>
<p><br><br></p>
</div>
</div>
<div class="section level2">
<h2 id="options">Options<a class="anchor" aria-label="anchor" href="#options"></a>
</h2>
<p>Within <code><a href="../reference/morts.html">morts()</a></code> and <code><a href="../reference/infrequent.html">infrequent()</a></code>, there are
several optional arguments to customize the process:</p>
<div class="section level3">
<h3 id="exclude-single-detections">Exclude single detections<a class="anchor" aria-label="anchor" href="#exclude-single-detections"></a>
</h3>
<p>In <code><a href="../reference/morts.html">morts()</a></code>, the argument <code>singles</code> specifies
if single detections are included as residence events. The default
setting is <code>singles=TRUE</code>, to include single detections.</p>
<p>Note there is no <code>singles</code> argument for
<code><a href="../reference/infrequent.html">infrequent()</a></code>, because the duration of residence events from
single detections is 0, and therefore does not contribute to meeting the
threshold.</p>
</div>
<div class="section level3">
<h3 id="previously-identified-mortalities">Previously identified mortalities<a class="anchor" aria-label="anchor" href="#previously-identified-mortalities"></a>
</h3>
<p>The <code>morts.prev</code> argument in both <code><a href="../reference/morts.html">morts()</a></code> and
<code><a href="../reference/infrequent.html">infrequent()</a></code> specifies a dataframe of previously flagged
mortalities. The input dataframe to <code>morts.prev</code> must have
been previously generated by mort, or have the same column names, column
types, and in the same order as <code>data</code>. When new mortalities
are identified, animal IDs that were already included in
<code>morts.prev</code> are skipped. This option can be useful and make
processing more efficient when new detection data and residence events
are added to the dataset, whether from new animals that were tagged or
new detections from previously tagged animals. It can also be useful
when running multiple methods of identifying mortalities, since animal
IDs identified in one method are skipped when running subsequent
methods.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prev_ex</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/morts.html">morts</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">events</span>,type<span class="op">=</span><span class="st">"mort"</span>,ID<span class="op">=</span><span class="st">"ID"</span>,station<span class="op">=</span><span class="st">"Station.Name"</span>,morts.prev<span class="op">=</span><span class="va">recent_ex</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="look-backwards">Look backwards<a class="anchor" aria-label="anchor" href="#look-backwards"></a>
</h3>
<p>For both <code><a href="../reference/morts.html">morts()</a></code> and <code><a href="../reference/infrequent.html">infrequent()</a></code>, there is
the option to look backwards (i.e., earlier) in the dataset. If the most
recent station change occurred before the flagged mortality (i.e., the
animal was detected earlier than the flagged mortality, at the same
station, and with no detections elsewhere), the start dates and times of
the flagged mortalities are shifted earlier. The default is
<code>backwards=FALSE</code>; however, it is more conservative to set
<code>backwards=TRUE</code>.</p>
<p>In the plot below, the black points show the flagged mortalities with
<code>backwards=FALSE</code>, and the blue points show the flagged
mortalities with <code>backwards=TRUE</code>:</p>
<p><img src="a2_morts_files/figure-html/backwards_plot-1.png" width="672"></p>
<p>Note, when <code>method="cumulative"</code> and there is no
seasonality, cumulative residence events will cover all consecutive
detections at a given station, and <code>backwards</code> is
unnecessary.</p>
</div>
<div class="section level3">
<h3 id="drift-and-season">Drift and season<a class="anchor" aria-label="anchor" href="#drift-and-season"></a>
</h3>
<p>In some systems, an expelled tag or a tag from a dead animal may seem
to move, due to currents or tides, or if the tag is located within range
of two overlapping receivers. Both <code><a href="../reference/morts.html">morts()</a></code> and
<code><a href="../reference/infrequent.html">infrequent()</a></code> include an option to specify stations or
locations where drift may occur and to consider drift in identifying
mortalities. For more information, see the <a href="https://rosieluain.github.io/mort/articles/a3_drift.html" class="external-link">Drift</a>
vignette.</p>
<p>For some species or systems with seasonal patterns in movement or
residency, it may be desirable to only consider specific seasons or
periods of time when identifying mortalities. <code><a href="../reference/morts.html">morts()</a></code>
includes an option to specify dates to calculate thresholds and flag
mortalities. For more information, see the <a href="https://rosieluain.github.io/mort/articles/a4_season.html" class="external-link">Seasonality</a>
vignette. Note there is no option to apply season to
<code><a href="../reference/infrequent.html">infrequent()</a></code>, but the season or period of interest could be
used as the defined period with <code>method="defined"</code>, as well
as <code>start</code> and <code>end</code> arguments.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Rosie Smith, Heidi Swanson.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
